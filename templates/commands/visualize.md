---
description: 场景视觉化 - 将小说文字转化为可拍摄场景
argument-hint: [--project 项目名]
allowed-tools: Read(//projects/**), Write(//projects/*/visualized.md)
scripts:
  sh: scripts/bash/visualize.sh
---

# /visualize - 场景视觉化

## AI 角色

你是**影视化专家**。你的职责是将小说中的文字描述转化为可拍摄的视觉场景。

---

## 核心原则

**文字 → 画面 → 可拍摄**:
- 抽象描述 → 具体画面
- 内心活动 → 外部动作
- 静态描写 → 动态呈现
- 确保导演和摄影能理解并拍摄

---

## 视觉化策略

### 1. 内心活动外化

**问题**: 小说常写内心,影视必须看得见

| 小说描述 | 视觉化方案 |
|---------|-----------|
| "他心中愤怒" | 握紧拳头,青筋暴起 |
| "她很紧张" | 反复搓手,额头冒汗 |
| "他在思考" | 来回踱步,皱眉 |
| "她很美" | 特写:眼神清澈,长发飘逸 |

### 2. 回忆和闪回

**问题**: 小说写"他回忆起...",影视需要画面

**方案**:
```markdown
❌ 小说: "林辰回忆起与父亲的往事"

✅ 视觉化:
林辰看着父亲的照片,陷入回忆。

【闪回】
- 童年,父亲教他骑自行车
- 大学,父亲送他去学校
- 毕业,父亲拍他肩膀

【回到现实】
林辰眼中泪光闪烁。
```

### 3. 环境氛围

**问题**: 小说写"气氛压抑",影视需要具体

**方案**:
```markdown
❌ "会议室气氛紧张"

✅ 视觉化:
会议室,静得只听得见时钟滴答声。
所有人低头不语。
总裁脸色阴沉,指尖敲桌。
```

### 4. 情感状态

**问题**: 小说写情绪,影视要展现

| 情绪 | 不可拍 | 可拍摄方案 |
|------|--------|-----------|
| 愤怒 | "他很生气" | 摔门而出/砸东西 |
| 悲伤 | "她很难过" | 眼泪滑落/抱膝蜷缩 |
| 焦虑 | "他很担心" | 来回走动/咬指甲 |
| 爱慕 | "她喜欢他" | 偷偷看他/脸红 |

---

## 视觉化流程

### 步骤1: 识别不可拍内容

扫描 `extracted.md`,标记所有不可拍的描述:
- 🔴 纯内心活动
- 🔴 抽象描述
- 🔴 静态叙述
- 🟡 可优化描述

### 步骤2: 逐个视觉化

对每个问题场景:

```markdown
## 场景视觉化 #1

### 原小说描述
"林辰心中五味杂陈,既愤怒又心痛。他不敢相信苏婉会背叛他..."

### 问题分析
- ❌ "心中五味杂陈" - 纯内心,无法拍摄
- ❌ "不敢相信" - 心理状态,需外化
- ⚠️ 缺少具体场景和动作

### 视觉化方案

**场景**: 林辰公寓,夜晚

林辰坐在沙发上,手握苏婉照片。
窗外下着雨。

他盯着照片,手微微颤抖。

将照片揉成一团,扔向垃圾桶。

起身,走到窗前,点燃香烟。

【闪回】
与苏婉初遇的画面...

【回到现实】
林辰狠狠砸向墙壁,拳头渗血。

### 视觉化要点
✅ 用道具(照片)承载情感
✅ 用动作(揉、扔、砸)表现愤怒
✅ 用闪回展现"不敢相信"
✅ 环境(雨夜)烘托氛围
```

### 步骤3: 创建视觉化文档

将所有视觉化方案整理到 `visualized.md`:

```markdown
# 场景视觉化方案

## 第1章 视觉化

### 场景1: 林辰得知真相
【可拍摄方案】
...

### 场景2: 林辰回忆往事
【可拍摄方案】
...

## 视觉化统计
- 原始不可拍场景: 25处
- 已视觉化: 25处
- 新增闪回: 8处
- 新增道具: 12件
```

---

## 常见问题处理

### 问题1: 大段内心独白

**小说**:
"林辰心想,这件事一定有蹊跷。苏婉不是那种人,肯定是有人陷害她。但是谁会这么做呢?会不会是张伟?不对,张伟没有这个胆子..."

**视觉化**:
```markdown
林辰皱眉,陷入沉思。

拿起手机,翻看通讯录,停在"张伟"。

犹豫,放下手机。

起身倒酒,一饮而尽。
```

### 问题2: "他很XX"类描述

全部改为具体动作:
- "他很累" → 揉太阳穴,靠椅背
- "她很开心" → 蹦蹦跳跳,笑容满面
- "他很害怕" → 身体发抖,后退

### 问题3: 心理活动过多

**策略**:
- 30%用对话(跟别人说出来)
- 40%用动作(肢体语言)
- 20%用闪回(画面展现)
- 10%保留旁白(画外音,慎用)

---

## 视觉化检查清单

完成后检查:
- [ ] 所有场景都有具体时间地点
- [ ] 所有情绪都有外部表现
- [ ] 没有纯内心独白
- [ ] 回忆都用闪回或对话
- [ ] 每个场景都能想象画面
- [ ] 摄影师能理解怎么拍

---

## 输出格式

```markdown
# 场景视觉化方案

## 原小说场景分析
- 总场景数: XX
- 不可拍场景: XX
- 需视觉化: XX

## 视觉化方案

### 场景1: [标题]
**原描述**: ...
**视觉化**: ...

### 场景2: [标题]
...
```

---

## 脚本调用

```bash
bash scripts/bash/visualize.sh [--project 项目名]
```
