---
description: ä¿å­˜å½“å‰å·¥ä½œè¿›åº¦
scripts:
  sh: ../../scripts/bash/save.sh
  ps1: ../../scripts/powershell/save.ps1
---

# /save - è¿›åº¦ä¿å­˜ç³»ç»Ÿ ğŸ’¾

> **æ ¸å¿ƒç†å¿µ**: æ”¯æŒé•¿æµç¨‹çš„æ–­ç‚¹ä¿å­˜,ç”¨æˆ·å¯éšæ—¶ä¿å­˜å¹¶ç¨åç»§ç»­
> **ç›®æ ‡**: ä¿å­˜å½“å‰å·¥ä½œçŠ¶æ€,ä¸‹æ¬¡å¯ä»ä¸­æ–­å¤„ç»§ç»­

---

## ç¬¬ä¸€æ­¥: è¿è¡Œè„šæœ¬æ£€æµ‹å½“å‰çŠ¶æ€ âš ï¸ å¿…é¡»æ‰§è¡Œ

### æ‰§è¡Œæ£€æŸ¥

```bash
# AI æ“ä½œ: è¿è¡Œè„šæœ¬
bash scripts/bash/save.sh
# æˆ–
pwsh scripts/powershell/save.ps1
```

### è§£æè¿”å›ç»“æœ

è„šæœ¬ä¼šè¿”å›:
- `current_work`: å½“å‰æ­£åœ¨è¿›è¡Œçš„å·¥ä½œ(outline/characters/scene ç­‰)
- `progress_info`: è¿›åº¦ä¿¡æ¯(å·²å®Œæˆå“ªäº›éƒ¨åˆ†)
- `existing_files`: å·²å­˜åœ¨çš„å·¥ä½œæ–‡ä»¶åˆ—è¡¨
- `save_options`: å¯ä¿å­˜çš„å†…å®¹é€‰é¡¹

æ ¹æ®æ£€æµ‹ç»“æœå±•ç¤ºä¿å­˜ç•Œé¢ã€‚

---

## ç¬¬äºŒæ­¥: å±•ç¤ºä¿å­˜é€‰é¡¹ âš ï¸ å¿…é¡»æ‰§è¡Œ

### æƒ…å†µ A: æœ‰æ­£åœ¨è¿›è¡Œçš„å·¥ä½œ

å¦‚æœæ£€æµ‹åˆ° `current_work` ä¸ä¸ºç©º(å¦‚: "outline"),æ˜¾ç¤ºè¯¦ç»†ä¿å­˜ç•Œé¢:

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                   ä¿å­˜å½“å‰è¿›åº¦                              â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“‹ æ£€æµ‹åˆ°æ­£åœ¨è¿›è¡Œçš„å·¥ä½œ:

[ä» progress_info æå–ä¿¡æ¯,ä¾‹å¦‚:]

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“ å¤§çº²åˆ›ä½œ (outline) - è¿›è¡Œä¸­

å·²å®Œæˆ:
  âœ… å¼€åœºç”»é¢
  âœ… æ¿€åŠ±äº‹ä»¶
  âœ… ç¬¬ä¸€å¹•è½¬æŠ˜ç‚¹

è¿›è¡Œä¸­:
  â³ B æ•…äº‹çº¿ (éƒ¨åˆ†å†…å®¹å·²å¡«å†™)

å¾…å®Œæˆ:
  â¬œ å¨±ä¹æ—¶åˆ»
  â¬œ ä¸­ç‚¹
  ... (è¿˜æœ‰ 7 ä¸ªèŠ‚æ‹)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ä¿å­˜é€‰é¡¹:

  1. ğŸ’¾ ä¿å­˜å½“å‰è¿›åº¦å¹¶é€€å‡º
     ä¿å­˜å·²å®Œæˆçš„éƒ¨åˆ†,ä¸‹æ¬¡å¯ä»¥ç»§ç»­

  2. ğŸ“¦ åˆ›å»ºå®Œæ•´å¤‡ä»½
     å¤‡ä»½æ‰€æœ‰æ–‡ä»¶åˆ° .scriptify/backups/

  3. âŒ å–æ¶ˆ,ç»§ç»­å·¥ä½œ

è¯·é€‰æ‹© (1-3):
```

**âš ï¸ å¼ºåˆ¶ç­‰å¾…æœºåˆ¶**:
AI **å¿…é¡»åœåœ¨è¿™é‡Œ,ç­‰å¾…ç”¨æˆ·é€‰æ‹©**ã€‚

### æƒ…å†µ B: æ²¡æœ‰æ­£åœ¨è¿›è¡Œçš„å·¥ä½œ

å¦‚æœ `current_work` ä¸ºç©º,æ˜¾ç¤ºä¸€èˆ¬ä¿å­˜ç•Œé¢:

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                   ä¿å­˜é¡¹ç›®                                  â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“‹ å½“å‰é¡¹ç›®çŠ¶æ€:

[åˆ—å‡º existing_files ä¸­çš„æ–‡ä»¶:]

å·²å®Œæˆçš„æ–‡ä»¶:
  âœ… spec.json - å‰§æœ¬è§„æ ¼
  âœ… idea.md - æ•…äº‹åˆ›æ„
  âœ… outline.md - æ•…äº‹å¤§çº²

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ä¿å­˜é€‰é¡¹:

  1. ğŸ“¦ åˆ›å»ºå®Œæ•´å¤‡ä»½
     å¤‡ä»½æ‰€æœ‰æ–‡ä»¶åˆ° .scriptify/backups/

  2. â„¹ï¸  æŸ¥çœ‹é¡¹ç›®ä¿¡æ¯
     æ˜¾ç¤ºé¡¹ç›®è¯¦ç»†çŠ¶æ€

  3. âŒ å–æ¶ˆ

è¯·é€‰æ‹© (1-3):
```

**âš ï¸ å¼ºåˆ¶ç­‰å¾…æœºåˆ¶**:
ç­‰å¾…ç”¨æˆ·é€‰æ‹©ã€‚

---

## ç¬¬ä¸‰æ­¥: æ‰§è¡Œä¿å­˜æ“ä½œ âš ï¸ å¿…é¡»æ‰§è¡Œ

æ ¹æ®ç”¨æˆ·é€‰æ‹©æ‰§è¡Œç›¸åº”æ“ä½œã€‚

### é€‰é¡¹ 1: ä¿å­˜å½“å‰è¿›åº¦

**æ‰§è¡Œæ­¥éª¤**:

1. **æ›´æ–°æˆ–åˆ›å»º progress.json**

ä½¿ç”¨ Write å·¥å…·åˆ›å»º/æ›´æ–° `.scriptify/progress.json`:

```json
{
  "last_command": "outline",
  "last_saved": "2025-10-29T12:30:00Z",
  "outline": {
    "status": "in_progress",
    "completed_beats": [
      "opening",
      "inciting",
      "act1turn"
    ],
    "current_beat": "bstory",
    "next_beat": "fun"
  },
  "idea": {
    "status": "completed"
  },
  "spec": {
    "status": "completed"
  },
  "characters": {
    "status": "not_started"
  },
  "scene": {
    "status": "not_started"
  }
}
```

2. **ä¿å­˜å½“å‰å·¥ä½œæ–‡ä»¶**

å¦‚æœ `outline.md` æˆ–å…¶ä»–å·¥ä½œæ–‡ä»¶æœ‰æœªä¿å­˜å†…å®¹,ç¡®ä¿å·²å†™å…¥æ–‡ä»¶ã€‚

3. **æ˜¾ç¤ºæˆåŠŸæ¶ˆæ¯**

```
âœ… è¿›åº¦å·²ä¿å­˜!

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“ ä¿å­˜ä½ç½®:
  â€¢ .scriptify/progress.json (è¿›åº¦è®°å½•)
  â€¢ outline.md (å½“å‰å·¥ä½œ)

ğŸ’¡ ä¸‹æ¬¡ç»§ç»­:

  åªéœ€è¿è¡Œ /outline,ç³»ç»Ÿä¼šè¯¢é—®æ˜¯å¦ç»§ç»­ä¸Šæ¬¡è¿›åº¦ã€‚

  æˆ–è€…éšæ—¶è¿è¡Œå…¶ä»–å‘½ä»¤:
    â€¢ /characters - è®¾è®¡è§’è‰²
    â€¢ /scene - æ‹†åˆ†åœºæ™¯
    â€¢ /spec - ä¿®æ”¹è§„æ ¼

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ç¥åˆ›ä½œé¡ºåˆ©! ğŸ‘‹
```

### é€‰é¡¹ 2: åˆ›å»ºå®Œæ•´å¤‡ä»½

**æ‰§è¡Œæ­¥éª¤**:

1. **ç”Ÿæˆå¤‡ä»½æ–‡ä»¶å**

ä½¿ç”¨æ—¶é—´æˆ³: `backup-20251029-123000`

2. **åˆ›å»ºå¤‡ä»½ç›®å½•**

ä½¿ç”¨ Bash å·¥å…·:

```bash
mkdir -p .scriptify/backups/backup-20251029-123000
```

3. **å¤åˆ¶æ‰€æœ‰é¡¹ç›®æ–‡ä»¶**

```bash
# å¤åˆ¶ä¸»è¦æ–‡ä»¶
cp spec.json .scriptify/backups/backup-20251029-123000/ 2>/dev/null || true
cp idea.md .scriptify/backups/backup-20251029-123000/ 2>/dev/null || true
cp outline.md .scriptify/backups/backup-20251029-123000/ 2>/dev/null || true
cp characters.md .scriptify/backups/backup-20251029-123000/ 2>/dev/null || true
cp scenes/ .scriptify/backups/backup-20251029-123000/ -r 2>/dev/null || true

# å¤åˆ¶è¿›åº¦æ–‡ä»¶
cp .scriptify/progress.json .scriptify/backups/backup-20251029-123000/ 2>/dev/null || true
```

4. **åˆ›å»ºå¤‡ä»½æ¸…å•**

åœ¨å¤‡ä»½ç›®å½•åˆ›å»º `backup-info.json`:

```json
{
  "timestamp": "2025-10-29T12:30:00Z",
  "files": ["spec.json", "idea.md", "outline.md"],
  "description": "å®Œæ•´é¡¹ç›®å¤‡ä»½"
}
```

5. **æ˜¾ç¤ºæˆåŠŸæ¶ˆæ¯**

```
âœ… å¤‡ä»½å·²åˆ›å»º!

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“¦ å¤‡ä»½ä½ç½®:
  .scriptify/backups/backup-20251029-123000/

ğŸ“‹ å¤‡ä»½å†…å®¹:
  â€¢ spec.json
  â€¢ idea.md
  â€¢ outline.md
  â€¢ characters.md
  â€¢ progress.json

ğŸ’¡ æ¢å¤å¤‡ä»½:

  å¦‚éœ€æ¢å¤,æ‰‹åŠ¨å¤åˆ¶å¤‡ä»½æ–‡ä»¶å›é¡¹ç›®æ ¹ç›®å½•å³å¯ã€‚

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
```

### é€‰é¡¹ 3: å–æ¶ˆ

ç®€å•æ˜¾ç¤º:

```
æ“ä½œå·²å–æ¶ˆ,ç»§ç»­å·¥ä½œå§! ğŸ’ª
```

---

## é‡è¦æé†’ âš ï¸

### è‡ªåŠ¨ä¿å­˜æœºåˆ¶

æŸäº›å‘½ä»¤(å¦‚ `/outline`)åœ¨å®Œæˆæ¯ä¸ªèŠ‚æ‹å,ä¼š**è‡ªåŠ¨æ›´æ–°** `progress.json`,æ— éœ€æ‰‹åŠ¨ä¿å­˜ã€‚

ä½†ç”¨æˆ·ä»å¯éšæ—¶è¿è¡Œ `/save` è¿›è¡Œæ‰‹åŠ¨ä¿å­˜å’Œå¤‡ä»½ã€‚

### è¿›åº¦æ–‡ä»¶æ ¼å¼

`.scriptify/progress.json` è®°å½•:
- **completed_beats**: å·²å®Œæˆçš„èŠ‚æ‹åˆ—è¡¨
- **current_beat**: å½“å‰æ­£åœ¨å¡«å†™çš„èŠ‚æ‹
- **next_beat**: ä¸‹ä¸€ä¸ªå¾…å®Œæˆçš„èŠ‚æ‹
- **status**: `not_started` / `in_progress` / `completed`

### æ–­ç‚¹ç»­ä¼ 

å½“ç”¨æˆ·ä¸‹æ¬¡è¿è¡Œ `/outline` æ—¶:
1. è„šæœ¬è¯»å– `progress.json`
2. å¦‚æœå‘ç° `status: "in_progress"`
3. AI ä¼šè¯¢é—®: "æ£€æµ‹åˆ°ä¸Šæ¬¡è¿›åº¦,æ˜¯å¦ç»§ç»­?"
4. ç”¨æˆ·é€‰æ‹©ç»§ç»­,åˆ™è·³è¿‡å·²å®Œæˆçš„èŠ‚æ‹,ç›´æ¥ä» `next_beat` å¼€å§‹

### æ•°æ®å®‰å…¨

- æ¯æ¬¡ä¿å­˜éƒ½ä¼šæ›´æ–° `progress.json`
- å»ºè®®å®šæœŸåˆ›å»ºå®Œæ•´å¤‡ä»½(é€‰é¡¹ 2)
- å¤‡ä»½æ–‡ä»¶ä¿ç•™åœ¨ `.scriptify/backups/` ç›®å½•

---

**å¼€å§‹æ‰§è¡Œç¬¬ä¸€æ­¥** â¬‡ï¸
