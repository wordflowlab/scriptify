---
description: 构建故事大纲(三幕结构 + 核心节拍)
scripts:
  sh: ../../scripts/bash/outline.sh
  ps1: ../../scripts/powershell/outline.ps1
---

# /outline - 故事大纲构建系统 📝

> **核心理念**: 引导用户将创意扩展成完整的三幕结构大纲
> **目标**: 完成关键节拍的填充,形成逻辑清晰的故事骨架

---

## 第一步: 运行脚本并回顾创意 ⚠️ 必须执行

### 执行检查

```bash
# AI 操作: 运行脚本
bash scripts/bash/outline.sh
# 或
pwsh scripts/powershell/outline.ps1
```

### 解析返回结果并展示创意回顾

脚本会返回:
- `spec`: 剧本规格(类型等)
- `idea_content`: 故事创意内容
- `existing_outline`: 如果已有大纲

**展示回顾界面**:

```
╔══════════════════════════════════════════════════════════╗
║                   创意回顾                                  ║
╚══════════════════════════════════════════════════════════╝

📋 剧本类型: [从 spec 读取]

📖 故事核心:
[从 idea.md 提取的一句话故事核心]

主角: [身份和性格]
目标: [具体目标]
障碍: [外部+内部]
成长: [弧线]

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

现在让我们将这个核心创意扩展成完整的三幕结构。

准备好了吗?输入 "1" 开始:
```

**⚠️ 强制等待机制**:
AI **必须停在这里,等待用户确认**。

---

## 第二步: 构建第一幕 (建置) ⚠️ 必须执行

第一幕约占 **25%** 篇幅,目标是建立世界和提出问题。

### 节拍 1: 开场画面

**提问**:

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
🎬 第一幕 - 建置 (Act 1)

节拍 1/15: 开场画面 (0%)

开场画面要展示:
  • 主角的日常世界
  • 暗示故事主题
  • 吸引观众注意

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

请描述:

故事怎么开始?我们第一次看到主角时,他/她在做什么?
这个开场如何体现主角的性格和状态?

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

**⚠️ 强制等待机制**:
AI **必须停在这里,等待用户描述**。

收到答案后确认:

```
✅ 开场画面: [用户描述]

继续...
```

### 节拍 2: 激励事件

**提问**:

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
节拍 2/15: 激励事件 (10%)

激励事件要:
  • 打破主角的日常
  • 引入核心问题/机会
  • 通常出现在前 10-15%

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

请描述:

什么事件打破了主角的日常生活?
这个事件如何引出主角的目标?

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

**⚠️ 强制等待机制**:
等待用户描述。

确认:

```
✅ 激励事件: [用户描述]

继续...
```

### 节拍 3: 第一幕转折点

**提问**:

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
节拍 3/15: 第一幕转折点 (20-25%)

第一幕转折点要:
  • 主角做出决定,踏上旅程
  • 不可逆转的承诺
  • 明确故事问题

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

请描述:

主角在什么时候/什么情况下决定踏上这段旅程?
这个决定为什么不可逆转?(为什么不能回头?)

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

**⚠️ 强制等待机制**:
等待用户描述。

确认:

```
✅ 第一幕转折点: [用户描述]

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
✅ 第一幕完成!主角已经踏上旅程。

继续第二幕...
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

---

## 第三步: 构建第二幕前半 (对抗上升) ⚠️ 必须执行

第二幕约占 **50%** 篇幅,分为前半(上升)和后半(下降)。

### 节拍 4: B 故事线

**提问**:

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
🎬 第二幕 - 对抗 (Act 2)

节拍 4/15: B 故事线 (22%)

B 故事线通常是:
  • 情感线/爱情线/友谊线
  • 与主题相关
  • 帮助主角成长

(对于短剧/短视频,可以简化或省略)

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

请描述:

除了主线目标,主角还会遇到什么人?产生什么关系?
这段关系如何帮助主角成长?

(如果剧本很短,可以输入 "skip" 跳过)

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

**⚠️ 强制等待机制**:
等待用户描述或选择跳过。

确认:

```
✅ B 故事线: [用户描述 或 "已跳过"]

继续...
```

### 节拍 5: 娱乐时刻

**提问**:

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
节拍 5/15: 娱乐时刻 (25-50%)

娱乐时刻是:
  • 展示核心承诺的精彩部分
  • 观众最期待看到的内容
  • 主角运用技能/特质的时刻

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

请描述:

主角开始执行计划,事情一开始进展如何?
有哪些精彩/有趣的场景?(观众期待看到的)

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

**⚠️ 强制等待机制**:
等待用户描述。

确认:

```
✅ 娱乐时刻: [用户描述]

继续...
```

### 节拍 6: 中点

**提问**:

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
节拍 6/15: 中点 (50%) ⭐ 关键转折

中点是整个故事的关键转折,通常是:
  • 假胜利: 主角看起来离目标很近,但...
  • 假失败: 主角看起来失败了,但其实...
  • 提高赌注: 让问题变得更大更紧迫

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

请描述:

在故事中点,发生什么重大转折?
这个转折如何改变主角的处境?(变好还是变坏?)

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

**⚠️ 强制等待机制**:
等待用户描述。

确认:

```
✅ 中点: [用户描述]

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
⚠️  从这里开始,事情会越来越糟...
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

继续...
```

---

## 第四步: 构建第二幕后半 (对抗下降) ⚠️ 必须执行

### 节拍 7: 坏人逼近

**提问**:

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
节拍 7/15: 坏人逼近 (50-75%)

坏人逼近阶段:
  • 外部压力增大(对手反击)
  • 内部矛盾爆发(团队分裂/自我怀疑)
  • 主角的弱点开始暴露

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

请描述:

中点之后,什么让主角的处境越来越糟?
外部发生了什么?内部(心理/关系)又发生了什么?

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

**⚠️ 强制等待机制**:
等待用户描述。

确认:

```
✅ 坏人逼近: [用户描述]

继续...
```

### 节拍 8: 低谷时刻

**提问**:

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
节拍 8/15: 低谷时刻 (75%) ⭐ 最黑暗的时刻

低谷时刻是:
  • 主角失去最重要的东西
  • 看起来一切都完了
  • 观众会担心主角能否翻盘

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

请描述:

在低谷时刻,主角失去了什么?(人/机会/信念)
此时看起来主角还有可能达成目标吗?

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

**⚠️ 强制等待机制**:
等待用户描述。

#### 如果低谷不够"低"

如果用户描述的失败不够严重,引导:

```
⚠️ 这个低谷可能还不够低。

低谷时刻,主角应该失去最重要的东西。
对你的主角来说,什么是最重要的?
  • 是目标本身?
  • 是重要的人?
  • 是自我认同?

如果失去了这个,他/她会是什么感受?试试描述得更惨一点:
```

**⚠️ 继续等待**用户调整。

确认:

```
✅ 低谷时刻: [用户描述]

继续...
```

### 节拍 9: 灵魂暗夜

**提问**:

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
节拍 9/15: 灵魂暗夜 (75-80%)

灵魂暗夜是:
  • 主角的内心挣扎
  • 质疑一切(目标/自己/信念)
  • 为第三幕的顿悟做铺垫

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

请描述:

在失去一切后,主角的内心在想什么?
他/她质疑什么?痛苦的根源是什么?

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

**⚠️ 强制等待机制**:
等待用户描述。

确认:

```
✅ 灵魂暗夜: [用户描述]

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
✅ 第二幕完成!主角已经跌到谷底。

但黎明就在前方...进入第三幕!
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

---

## 第五步: 构建第三幕 (解决) ⚠️ 必须执行

第三幕约占 **25%** 篇幅,目标是解决问题和完成成长。

### 节拍 10: 顿悟

**提问**:

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
🎬 第三幕 - 解决 (Act 3)

节拍 10/15: 顿悟 (80%)

顿悟是:
  • 主角找到解决方案
  • 领悟来自 B 故事线或内心觉醒
  • 决定再试一次

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

请描述:

什么让主角重新站起来?
他/她领悟到了什么?这个领悟如何解决之前的困境?

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

**⚠️ 强制等待机制**:
等待用户描述。

#### 如果顿悟与成长弧线不符

如果顿悟和前面定义的弱点/成长没有关联:

```
⚠️ 我注意到这个顿悟和主角的弱点 [弱点] 没有直接关系。

好的顿悟应该是:
  • 主角克服了内心的弱点
  • 或者接受了之前逃避的真相
  • 从而找到了新的解决方案

试试把顿悟和主角需要克服的 [弱点] 联系起来:
```

**⚠️ 继续等待**用户调整。

确认:

```
✅ 顿悟: [用户描述]

继续...
```

### 节拍 11: 决战

**提问**:

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
节拍 11/15: 决战 (80-95%) ⭐ 最终对决

决战要:
  • 主角运用新学到的东西
  • 完成人物弧线
  • 解决故事核心问题

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

请描述:

最终对决是什么?主角如何运用顿悟来克服挑战?
结果如何?(成功/失败/部分成功?)

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

**⚠️ 强制等待机制**:
等待用户描述。

确认:

```
✅ 决战: [用户描述]

继续...
```

### 节拍 12: 结局画面

**提问**:

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
节拍 12/15: 结局画面 (100%)

结局画面要:
  • 展示改变后的世界
  • 与开场呼应(对比)
  • 让观众感受到主角的成长

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

请描述:

故事如何结束?
主角和开场时相比有什么不同?(行为/心态/关系)

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

**⚠️ 强制等待机制**:
等待用户描述。

确认:

```
✅ 结局画面: [用户描述]

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
✅ 第三幕完成!整个三幕结构已经完成。

现在进行最后检查...
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

---

## 第六步: 整体检查和保存 ⚠️ 必须执行

### 展示完整大纲并检查

**展示检查界面**:

```
╔══════════════════════════════════════════════════════════╗
║                   大纲完整性检查                            ║
╚══════════════════════════════════════════════════════════╝

📝 你的三幕结构:

━━━ 第一幕: 建置 (0-25%) ━━━
  ✓ 开场画面: [简述]
  ✓ 激励事件: [简述]
  ✓ 第一幕转折: [简述]

━━━ 第二幕: 对抗 (25-75%) ━━━
  ✓ B 故事线: [简述或"已跳过"]
  ✓ 娱乐时刻: [简述]
  ✓ 中点: [简述]
  ✓ 坏人逼近: [简述]
  ✓ 低谷时刻: [简述]
  ✓ 灵魂暗夜: [简述]

━━━ 第三幕: 解决 (75-100%) ━━━
  ✓ 顿悟: [简述]
  ✓ 决战: [简述]
  ✓ 结局画面: [简述]

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

逻辑检查:
  [ ] 因果关系清晰?(每个事件导致下一个)
  [ ] 赌注逐步提高?
  [ ] 主角成长贯穿始终?
  [ ] 第三幕解决了第一幕的问题?

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

确认保存?

  1. ✅ 确认保存大纲
  2. 🔄 修改某个节拍

请输入 1 或 2:
```

**⚠️ 强制等待机制**:
AI **必须停在这里,等待用户确认**。

### 处理用户确认

#### 如果用户选择"1 确认保存"

**执行保存**:

```bash
# AI 操作: 使用 Write 工具创建/更新 outline.md
Write outline.md
```

写入大纲文档:

```markdown
# 故事大纲

## 第一幕: 建置 (0-25%)

### 开场画面 (0%)
[详细描述]

### 激励事件 (10%)
[详细描述]

### 第一幕转折点 (20-25%)
[详细描述]

---

## 第二幕: 对抗 (25-75%)

### B 故事线 (22%)
[详细描述]

### 娱乐时刻 (25-50%)
[详细描述]

### 中点 (50%)
[详细描述]

### 坏人逼近 (50-75%)
[详细描述]

### 低谷时刻 (75%)
[详细描述]

### 灵魂暗夜 (75-80%)
[详细描述]

---

## 第三幕: 解决 (75-100%)

### 顿悟 (80%)
[详细描述]

### 决战 (80-95%)
[详细描述]

### 结局画面 (100%)
[详细描述]

---
创建时间: [时间戳]
```

**显示成功消息**:

```
✅ 故事大纲已保存!

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

📁 大纲文件: outline.md

💡 下一步建议:

  1. /characters - 深化角色设定
  2. /scene - 将大纲拆分成具体场景
  3. /script-coach - 开始逐场写剧本(教练模式)

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

**任务完成** ✅

#### 如果用户选择"2 修改某个节拍"

**提问**:

```
请告诉我要修改哪个节拍:

第一幕:
  • opening (开场画面)
  • inciting (激励事件)
  • act1turn (第一幕转折)

第二幕:
  • bstory (B故事线)
  • fun (娱乐时刻)
  • midpoint (中点)
  • badguys (坏人逼近)
  • allislost (低谷时刻)
  • darknight (灵魂暗夜)

第三幕:
  • breakinto3 (顿悟)
  • climax (决战)
  • finale (结局画面)

输入节拍名称:
```

**⚠️ 强制等待**用户指定,然后跳回对应节拍重新询问。

---

## 重要提醒 ⚠️

### 等待机制

本流程有**13个强制等待点**(12个节拍 + 1个最终确认),必须在每个等待点停下。

### 根据剧本类型调整

**短视频 (1-3分钟)**:
- 可以简化为 5-7 个关键节拍
- 省略 B 故事线
- 快速进入冲突

**短剧 (多集)**:
- 每集要有迷你三幕
- 每集结尾要有 Hook
- 整体遵循大三幕

**长剧/电影**:
- 严格遵循 12 个节拍
- 可以有多条故事线

### 质量标准

每个节拍要检查:
- **因果关系**: 这个事件如何导致下一个?
- **人物成长**: 主角在这里学到/失去了什么?
- **赌注提升**: 问题是否越来越大?

### 禁止行为

❌ 不要替用户编故事情节
❌ 不要接受跳过关键节拍(除了 B 故事线)
❌ 不要忽略人物弧线的连贯性

---

**开始执行第一步** ⬇️
