# Scriptify 更新日志

所有重要更改都会记录在此文件中。

格式基于 [Keep a Changelog](https://keepachangelog.com/zh-CN/1.0.0/)，
版本号遵循 [语义化版本](https://semver.org/lang/zh-CN/)。

---

## [0.8.1] - 2025-11-03

### 🎨 交互优化 - 大纲与人物创作

#### 优化命令 (2个)

**1. `/outline` - 原创大纲优化** (715行)
- ✅ **AI智能分析**: 自动分析故事类型、主题、节奏、风格
- ✅ **ABCDE选择大纲详细度**:
  - A. 精简5-7拍(快速创作)
  - B. 标准10拍(平衡版)
  - C. 完整12拍(Save the Cat)
  - E. 自定义节拍数
- ✅ **ABCDE选择情节结构模板**:
  - A. 经典三幕剧(推荐通用)
  - B. 英雄之旅
  - C. Save the Cat(救猫咪)
  - E. 自由构建
- ✅ **逐拍引导填充**: 每个节拍提供4个参考选项(基于故事类型)
- ✅ **智能检查**: 自动检查因果关系、赌注设定、人物弧线
- ✅ **断点续传**: 支持保存进度,随时恢复

**2. `/characters` - 人物设定优化** (719行)
- ✅ **AI智能分析**: 根据故事需求推荐需要的角色
- ✅ **ABCDE选择角色定位**:
  - A/B/C. 主角/反派/配角
  - D. 功能性角色
  - E. 自定义定位
- ✅ **ABCDE选择人物原型**:
  - 基于职业/目标推荐合适原型
  - 引用 `character-archetypes.yaml` 模板库
  - 支持不使用原型,自由创建
- ✅ **7步引导式填充**:
  1. 基本信息确认(姓名/职业/年龄/性格标签)
  2. 性格深化(ABCDE选择)
  3. 性格矛盾性(让角色立体)
  4. 背景故事(简洁但有意义)
  5. 目标与动机确认
  6. 人物弧线确认
  7. 说话方式/代表性行为
- ✅ **角色类型模板**: 主角/反派/导师/搭档/情感支点

### 🎯 v0.8.x 里程碑完成

**已优化的6个核心命令**:
1. ✅ `/spec` - 项目规格设定 (v0.8.0)
2. ✅ `/import` - 小说导入分析 (v0.8.0)
3. ✅ `/analyze` - 故事结构分析 (v0.8.0)
4. ✅ `/idea` - 故事构思引导 (v0.8.0)
5. ✅ `/outline` - 大纲创作 (v0.8.1)
6. ✅ `/characters` - 人物设定 (v0.8.1)

**核心交互模式**:
- AI先分析,再推荐
- ABCDE选择模式(A/B/C/D=推荐选项, E=自定义)
- 渐进式澄清(大方向 → 细化 → 个性化)
- 引用YAML模板库
- 智能检查与验证

### 📚 支持资源

4个YAML选项模板库(v0.8.0创建):
- `character-archetypes.yaml` - 人物原型库
- `plot-structures.yaml` - 情节结构模板
- `comic-styles.yaml` - 漫剧风格库
- `genre-templates.yaml` - 题材模板与快速配置

---

## [0.8.0] - 2025-11-03

### 🎨 重大交互优化 - ABCDE选择模式

**核心改进**: 从"问答式交互"升级为"AI分析+智能推荐+ABCDE选择"模式

#### 优化命令 (4个)

**1. `/spec` - 项目规格设定** (478行)
- 重写为ABCDE选择模式
- AI智能分析并推荐题材、平台、受众
- 引用 `genre-templates.yaml` 模板库
- 提供快速配置组合(抖音爽剧/B站沙雕/长视频甜宠等)

**2. `/import` - 小说导入分析** (697行)
- 完整重写,新增AI智能分析
- ABCDE选择改编目标(漫剧/传统剧本)
- ABCDE选择改编重点(节奏/角色/情节/风格)
- 引导式澄清目标受众和平台
- 生成详细的改编建议和检查清单

**3. `/analyze` - 故事结构分析** (729行)
- 全新设计,6维度深度分析
- 自动识别故事类型和结构
- ABCDE选择分析重点
- 可视化情节曲线和人物关系网
- 生成具体改进建议

**4. `/idea` - 故事构思引导** (550行)
- 优化为渐进式澄清模式
- 3层引导: 大方向 → 细化 → 个性化
- ABCDE选择故事类型和核心冲突
- 智能检查构思完整性
- 自动推荐下一步(outline/characters)

#### 新增资源 (4个YAML模板库)

**1. `character-archetypes.yaml`** - 人物原型库
- 12种经典人物原型
- 每种原型包含: 核心特征/成长弧线/适合故事/典型例子
- 支持主角/反派/导师/搭档等不同角色类型

**2. `plot-structures.yaml`** - 情节结构模板
- 3种经典结构: 三幕剧/英雄之旅/Save the Cat
- 每种结构提供: 节拍定义/时间占比/典型应用/参考案例
- 支持自定义结构混合

**3. `comic-styles.yaml`** - 漫剧风格库
- 4种主流风格: 沙雕搞笑/热血爽文/甜宠恋爱/悬疑烧脑
- 每种风格包含: 钩子类型/对白特点/镜头语言/典型桥段

**4. `genre-templates.yaml`** - 题材模板库
- 5大题材分类: 都市职场/言情恋爱/玄幻修仙/古装历史/悬疑推理
- 3种平台模板: 抖音快手/B站/长视频平台
- 4种受众画像: 年轻女性/年轻男性/都市白领/中年观众
- 4种快速配置组合

#### 增强命令 (2个)

**5. `/adapt-comic` - 漫剧改编增强** (520行)
- 新增ABCDE选择风格
- 引用 `comic-styles.yaml` 风格库
- 优化5步改编法流程

**6. `/select-novel` - 漫剧选题增强** (500+行)
- 新增ABCDE选择评估重点
- 智能推荐改进方案
- 量化评分系统优化

### 📝 文档更新

- ✅ 更新 `CLAUDE.md` - 新增 v0.8.0 开发指南
- ✅ 明确 ABCDE 选择模式规范
- ✅ 定义渐进式澄清流程
- ✅ 规范 YAML 模板引用方式

### 🎯 核心价值

**交互体验升级**:
1. **AI先分析** - 理解用户需求和故事特点
2. **智能推荐** - 基于分析结果推荐最佳选项(⭐标记)
3. **ABCDE选择** - A/B/C/D是推荐选项,E永远是"自定义"
4. **渐进式澄清** - 从大方向到细节,逐步明确
5. **模板库支持** - 丰富的参考选项和案例

**从被动回答到主动引导**:
- ❌ 旧模式: "请输入故事类型" → 用户输入 → 机械处理
- ✅ 新模式: AI分析 → 推荐选项 → ABCDE选择 → 智能验证

### 📊 统计数据

- **重写命令**: 6个(spec/import/analyze/idea/adapt-comic/select-novel)
- **新增模板库**: 4个YAML文件
- **新增代码**: ~4000行
- **优化代码**: ~2500行

### 🚀 快速体验

```bash
# v0.8.0 新交互体验
scriptify /spec              # AI分析并推荐题材/平台/受众
scriptify /idea              # 3层渐进式构思引导
scriptify /import novel.txt  # AI分析小说并推荐改编策略
scriptify /analyze           # 6维度深度结构分析
```

---

## [0.7.0] - 2025-11-02

### 🆕 新增 - 漫剧创作支持

#### 新增命令 (3个)

**1. `/select-novel` - 漫剧选题检查**
- 五大核心筛选标准自动评估
- 0-100分量化评分系统
- 具体改进建议和适配度分析
- 文件: `templates/commands/select-novel.md` + `scripts/bash/select-novel.sh`

**2. `/adapt-comic` - 漫剧改编**
- 5步改编法(拆书→细纲→改写→润色→调整)
- 支持4种风格(沙雕/热血/甜宠/悬疑)
- 自动/互动两种模式
- 内置1-2分钟黄金结构标准
- 文件: `templates/commands/adapt-comic.md` + `scripts/bash/adapt-comic.sh`

**3. `/quality-check-comic` - 漫剧质量检查**
- 6大维度自动化检查(时长/对白/开篇/钩子/禁止内容/口语化)
- 详细评分和改进方案
- 支持单集检查和批量检查(`--all`)
- 文件: `templates/commands/quality-check-comic.md` + `scripts/bash/quality-check-comic.sh`

#### 增强功能 (2个)

**4. `/import` - 增加漫剧分析**
- 基于字数的漫剧集数建议
- 漫剧题材适配度评估(5星评级)
- 智能引导选择改编类型(漫剧 vs 传统剧本)

**5. `/polish` - 新增漫剧专项润色**
- 新增 `--focus comic` 选项
- 4大润色重点: 去AI味、补细节、留画面空白、强化钩子
- 完整的漫剧润色检查清单

### 📚 文档更新

- 更新 README.md,新增漫剧创作功能介绍
- 新增漫剧快速上手流程示例
- 更新命令列表(20个→23个)
- 更新版本号为 v0.7.0

### 🎯 核心价值

将《AI漫剧制作完整流程》文档的专业方法论,内置到Slash Command中:
- ✅ 五大核心筛选标准(选题阶段)
- ✅ 5步改编法(改编阶段)
- ✅ 1-2分钟黄金结构(时长控制)
- ✅ 4种风格的钩子设计模式
- ✅ 去AI味技巧(润色阶段)
- ✅ 自动化质量检查清单

### 🔗 生态定位

明确与 Storyboardify 的分工:
- **Scriptify**: 小说 → 漫剧剧本
- **Storyboardify**: 剧本 → 分镜脚本
- 清晰分工,无重复功能

### 📊 统计数据

- **新增文件**: 6个(3个命令模板 + 3个Bash脚本)
- **修改文件**: 3个(import.md, polish.md, README.md)
- **新增代码**: ~3000行
- **测试状态**: ✅ 所有核心脚本测试通过

### 🚀 快速体验

```bash
# 完整漫剧创作流程
scriptify /import                  # 导入小说
scriptify /select-novel            # 选题检查(评分)
scriptify /adapt-comic --style 沙雕 --episodes 60 --auto
scriptify /quality-check-comic --all  # 批量质量检查
scriptify /polish --focus comic    # 专项润色
```

---

## [0.6.1] - 2025-10-30

### 🐛 Bug 修复

- ✅ 修复版本号显示问题
  - 从 package.json 动态读取版本号,而非硬编码
  - 使用 `createRequire` 支持 ES modules
  - `scriptify --version` 现在显示正确版本号

---

## [0.6.0] - 2025-10-30

### 🎯 聚焦核心功能

**Scriptify v0.6.0** - 简化产品边界,专注剧本创作!

### 🗑️ 移除功能

#### 删除未实现的命令
- ❌ **短剧优化命令** (6个)
  - `/hook-check` - Hook检测
  - `/explosion-density` - 爆点密度检测
  - `/platform-fit` - 平台适配度
  - `/viral-score` - 传播潜力评分
  - `/shorten` - 智能压缩
  - `/reality-check` - 现实度检测

- ❌ **质量评估命令** (5个)
  - `/review` - 质量评估
  - `/optimize` - 自动优化
  - `/diff` - 对比修改
  - `/compare` - 版本对比
  - `/export-review` - 导出评估报告

- ❌ **实用工具命令** (5个)
  - `/help`, `/settings`, `/templates`, `/examples`, `/undo`

### 📝 文档更新

- ✅ 重构文档结构
  - `docs/juben/` → `docs/scriptify/` (当前产品)
  - `docs/prd/` → `docs/roadmap/` (未来规划)
- ✅ 新增 `docs/ecosystem.md` 生态愿景文档
- ✅ 明确产品定位: 专注剧本创作,不涉及分镜制作
- ✅ 更新所有文档中的命令列表和示例
- ✅ 在 PRD-04/PRD-05 添加未实现功能标注

### 🎯 保留的核心功能

**20个核心命令**:
- 📋 项目管理 (5个): new, open, list, save, export
- ✍️ 原创剧本 (8个): spec, idea, outline, characters, scene, script, fill, polish
- 📚 小说改编 (7个): import, analyze, extract, compress, visualize, externalize, script

### 🔧 技术改进

- 删除 26 个未使用的文件 (模板+脚本)
- 简化代码库,减少 344 行代码
- 提升产品定位清晰度

### 💡 设计理念

**聚焦核心**: Scriptify 专注于剧本创作阶段,将短剧优化、质量评估等功能留给未来的独立工具或第三方工具集成。

---

## [0.1.0] - 2025-10-29

### 🎉 首次发布

**Scriptify v0.1.0** - AI驱动的剧本创作工具首个版本发布!

### ✨ 新增功能

#### 核心创作功能
- ✅ **原创剧本创作** - 完整8步创作流程
  - `/new` - 创建项目
  - `/spec` - 定义剧本规格
  - `/idea` - 故事构思
  - `/outline` - 故事大纲
  - `/characters` - 人物设定
  - `/scene` - 分场大纲
  - `/script` - 剧本生成(3种模式)
  - `/review` - 质量评估

- ✅ **三种创作模式**
  - Coach模式 - AI引导,用户创作100%
  - Express模式 - AI生成80-100%
  - Hybrid模式 - AI框架40-60% + 用户填充

- ✅ **小说改编剧本** - 7步改编工作流
  - `/import` - 导入小说并评估
  - `/analyze` - 结构分析
  - `/extract` - 提炼核心情节
  - `/compress` - 篇幅压缩
  - `/externalize` - 内心戏外化


#### 项目管理
- ✅ `/list` - 列出所有项目
- ✅ `/open` - 打开项目
- ✅ `/export` - 导出剧本(基础版)
- ✅ `help` - 帮助文档

### 🏗️ 架构设计

- ✅ **三层Slash Command架构**
  - Markdown模板层 - 定义标准和原则
  - AI执行层 - 灵活理解和执行
  - Bash脚本层 - 文件操作和JSON输出

- ✅ **代码实现**
  - TypeScript源码 (5个文件, ~800行)
  - Bash脚本 (19个文件, ~1200行)
  - 命令模板 (10个文件, ~3000行)

### 📚 文档系统

- ✅ **用户文档**
  - README.md - 项目总览
  - QUICKSTART.md - 5分钟快速入门
  - RESOURCES.md - 学习资源导航
  - STATUS.md - 项目当前状态

- ✅ **技术文档**
  - docs/FINAL_REPORT.md - 项目完成报告
  - docs/ACCEPTANCE_CHECKLIST.md - 验收清单
  - PROJECT_SUMMARY.md - 完整项目总结
  - IMPLEMENTATION_STATUS.md - 实施进度
  - CLAUDE.md - 开发指导原则

- ✅ **PRD文档** (docs/scriptify/ - 原docs/juben/)
  - PRD-01 产品定位与核心价值
  - PRD-02 三模式剧本创作系统
  - PRD-03 小说改编剧本工作流
  - PRD-04 短剧短视频剧本规范
  - PRD-05 剧本质量评估系统
  - PRD-06 完整创作流程与命令
  - 架构说明-Slash-Command设计

- ✅ **参考资料** (docs/info/)
  - 剧本格式快速参考.md - 日常速查
  - 短剧剧本写作完全指南.md - 系统教程
  - 短剧转动态漫SOP完整流程.md - 完整SOP
  - templates/ - 实用模板库

### 📊 统计数据

- **命令数量**: 21个
- **Bash脚本**: 19个
- **命令模板**: 10个
- **文档文件**: 20+个
- **总代码量**: ~10000行

### 🎯 核心特色

1. **遵循正确的架构原则** - 不是硬编码对话,而是灵活的AI引导系统
2. **三种模式真正有区别** - 完全不同的创作体验和交互方式
3. **完整的改编工作流** - 系统化的小说改编方法论
4. **实用的短剧优化** - 15种Hook公式,爆点密度行业标准

### ⏳ 已知限制

- Phase 7 (质量评估增强) 未完成
- Phase 8 (实用工具) 未完成
- 端到端测试覆盖不足
- 导出功能为基础版(未集成pandoc)

### 📋 后续计划

#### v0.2.0 (计划中)
- [ ] 完成Phase 7 - 质量评估增强
- [ ] 完成Phase 8 - 实用工具
- [ ] 补充端到端测试
- [ ] 优化导出功能

#### 未来版本
- [ ] Web UI版本
- [ ] 协作功能
- [ ] 多AI后端支持
- [ ] 模板市场

---

## 版本说明

### 语义化版本规则
- **主版本号** (MAJOR): 不兼容的API修改
- **次版本号** (MINOR): 向下兼容的功能性新增
- **修订号** (PATCH): 向下兼容的问题修正

### 变更类型
- `新增` - 新功能
- `变更` - 已有功能的变更
- `废弃` - 即将移除的功能
- `移除` - 已移除的功能
- `修复` - 问题修复
- `安全` - 安全相关修复

---

## 链接

- [项目仓库](https://github.com/wordflowlab/scriptify)
- [问题追踪](https://github.com/wordflowlab/scriptify/issues)
- [完整文档](./README.md)

---

**最后更新**: 2025-10-29
